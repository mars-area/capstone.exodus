<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
    <title>Smart Fruits</title>
</head>
<body>
    {% extends 'base.html' %}

    {% block content %}
        <form method=post enctype=multipart/form-data>
            <label for="image">Insert your image: </label>
            <input type=file name=file>
            <input type=submit value=Upload>
        </form>

        <script src="https://unpkg.com/@tensorflow/tfjs"></script>
        <script src="https://unpkg.com/@tensorflow/tfjs-automl"></script>
        <img id="daisy" crossorigin="anonymous" src="https://storage.googleapis.com/tfjs-testing/tfjs-automl/img_classification/daisy.jpg">
        <script>
            async function run() {
                const model = await tf.automl.loadImageClassification('model.json');
                const image = document.getElementById('daisy');
                const predictions = await model.classify(image);
                console.log(predictions);
                // Show the resulting object on the page.
                const pre = document.createElement('pre');
                pre.textContent = JSON.stringify(predictions, null, 2);
                document.body.append(pre);
            }
            run();
        </script>

    {% endblock %}
</body>
</html>